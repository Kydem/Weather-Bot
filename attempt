# bot.py
import os
import random
from unicodedata import name
from dotenv import load_dotenv
import python_weather
import asyncio
import discord
from discord.ext import commands
from discord_slash.utils.manage_commands import create_option

load_dotenv()
TOKEN = os.getenv('DISCORD_TOKEN')
    
bot = commands.Bot(command_prefix='/')
    # Script
@bot.command(name="weather", options=[create_option(
    name='input', description='place', option_type=3, required=True)])
async def getweather(ctx, input=str):
    client = python_weather.Client(format=python_weather.IMPERIAL)

    weather = await client.find(python_weather)
    await ctx.send(f'The temperature is {weather.current.temperature} degrees fahrenheit.')
    

    for forecast in weather.forecasts:
        print(str(forecast.date), forecast.sky_text, forecast.temperature)

    await client.close()


bot.run(TOKEN)

